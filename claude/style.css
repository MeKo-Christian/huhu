/* ── Reset ───────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; overflow: hidden; }
body {
  font-family: 'Barlow Condensed', 'Trebuchet MS', sans-serif;
  color: #f4eeff;
  background: #060018;
  -webkit-tap-highlight-color: transparent;
}

/* ── App shell ───────────────────────────────────────── */
.app {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100svh;
  overflow: hidden;
  background:
    radial-gradient(circle at 15% 18%, rgba(255,110,240,.30) 0%, transparent 22%),
    radial-gradient(circle at 82% 10%, rgba(60,130,255,.24) 0%, transparent 24%),
    linear-gradient(160deg, #09001f 0%, #1a0557 50%, #3c0f7e 100%);
}

/* Starfield overlay */
.stars {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image:
    radial-gradient(circle, rgba(255,255,255,.82) 0 1px, transparent 2px),
    radial-gradient(circle, rgba(170,225,255,.9)  0 1px, transparent 2px);
  background-size: 30px 30px, 52px 52px;
  opacity: .22;
}
.stars::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(circle at 9% 70%,  rgba(255,165,90,.85) 0 5px, transparent 6px),
    radial-gradient(circle at 91% 28%, rgba(255,120,165,.85) 0 4px, transparent 5px),
    radial-gradient(circle at 54% 48%, rgba(120,180,255,.7)  0 3px, transparent 4px);
  filter: blur(.5px);
}

/* ── HUD ─────────────────────────────────────────────── */
.hud {
  position: relative;
  z-index: 10;
  flex-shrink: 0;
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap: 8px;
  padding: max(10px, env(safe-area-inset-top)) 12px 8px;
}
.hud-badge {
  display: inline-flex;
  align-items: baseline;
  gap: 5px;
  min-height: 46px;
  padding: 6px 12px;
  border-radius: 11px;
  border: 2px solid rgba(255,255,255,.25);
  background: rgba(10,6,45,.86);
}
.hud-score {
  justify-self: start;
  border-color: rgba(255,65,140,.8);
  box-shadow: 0 0 14px rgba(255,55,130,.85), inset 0 0 10px rgba(255,55,130,.22);
}
.hud-time {
  justify-self: end;
  border-color: rgba(145,80,255,.8);
  box-shadow: 0 0 14px rgba(145,80,255,.85), inset 0 0 10px rgba(145,80,255,.22);
}
.hud-label { font-size: clamp(17px, 4.5vw, 23px); font-weight: 700; text-transform: uppercase; color: #fff; }
.hud-value { font-size: clamp(22px, 6vw, 30px); font-weight: 800; color: #ffeeff; }
.brand {
  justify-self: center;
  font-family: 'Anton', sans-serif;
  font-size: clamp(20px, 6vw, 34px);
  letter-spacing: 1px;
  text-shadow: 0 0 12px rgba(170,90,255,.9);
}

/* ── Game area ───────────────────────────────────────── */
.game-area {
  position: relative;
  flex: 1;
  overflow: hidden;
  touch-action: manipulation;
}

/* Decorative start splash — hidden the moment the game begins */
.splash {
  position: absolute;
  inset: 0;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 14px;
  pointer-events: none;
  user-select: none;
}
.splash.hidden { display: none; }
.splash-title {
  font-family: 'Anton', sans-serif;
  font-size: clamp(70px, 21vw, 130px);
  line-height: .9;
  text-align: center;
}
.t-hu {
  display: block;
  background: linear-gradient(180deg, #fff 10%, #ff8cff 90%);
  -webkit-background-clip: text; background-clip: text; color: transparent;
  filter: drop-shadow(0 0 14px rgba(255,80,200,.72));
}
.t-drop {
  display: block;
  background: linear-gradient(180deg, #ffe84d 0%, #ff9900 50%, #ff4455 100%);
  -webkit-background-clip: text; background-clip: text; color: transparent;
  filter: drop-shadow(0 0 14px rgba(255,155,0,.72));
}
.splash-sub {
  font-size: clamp(25px, 7vw, 38px);
  font-weight: 800;
  padding: 5px 18px;
  border: 2px solid rgba(30,220,255,.8);
  border-radius: 999px;
  background: rgba(4,22,64,.65);
  color: #c6f4ff;
  text-shadow: 0 0 8px rgba(55,225,255,.7);
}

/* ── Falling word tokens ─────────────────────────────── */
.word {
  position: absolute;
  left: 0; top: 0;
  will-change: transform, opacity;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 44px;   /* comfortably tappable */
  padding: 5px 16px;
  border-radius: 12px;
  border: 2px solid transparent;
  font-size: clamp(25px, 7vw, 38px);
  font-weight: 800;
  color: #fff;
  letter-spacing: .3px;
  text-shadow: 0 1px 4px rgba(0,0,0,.55);
  cursor: pointer;
  user-select: none;
  touch-action: manipulation;
  transition: filter 60ms;
}
.word:active { filter: brightness(1.18); }

/* Color skins — assigned randomly at spawn */
.skin-green  { background: linear-gradient(155deg,#18c44e,#0b7028); border-color:#6eff69; box-shadow:0 0 14px rgba(85,255,58,.85); }
.skin-pink   { background: linear-gradient(155deg,#ff58c5,#c0257e); border-color:#ffaae6; box-shadow:0 0 14px rgba(255,68,193,.85); }
.skin-purple { background: linear-gradient(155deg,#8850ff,#4e1ebd); border-color:#d2a8ff; box-shadow:0 0 14px rgba(148,82,255,.85); }
.skin-orange { background: linear-gradient(155deg,#ffae2c,#dd5e00); border-color:#ffe298; box-shadow:0 0 14px rgba(255,152,28,.85); }
.skin-cyan   { background: linear-gradient(155deg,#20c2ff,#045db8); border-color:#93e5ff; box-shadow:0 0 14px rgba(36,202,255,.82); }

/* ── Score delta pop (+1 / −1) ───────────────────────── */
.delta {
  position: absolute;
  pointer-events: none;
  z-index: 15;
  font-family: 'Anton', sans-serif;
  font-size: clamp(30px, 10vw, 50px);
  line-height: 1;
  animation: floatUp .68s ease-out forwards;
}
.delta-good { color: #58ffbc; text-shadow: 0 0 10px rgba(76,255,155,.9); }
.delta-bad  { color: #ff4e60; text-shadow: 0 0 10px rgba(255,88,105,.9); }
@keyframes floatUp {
  0%   { opacity: 0; transform: translate3d(0, 10px, 0) scale(.78); }
  14%  { opacity: 1; transform: translate3d(0, -3px, 0) scale(1.04); }
  100% { opacity: 0; transform: translate3d(0, -52px, 0) scale(1.1); }
}

/* ── End screen overlay ───────────────────────────────── */
.end-screen {
  position: absolute;
  inset: 0;
  z-index: 30;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
  background: rgba(7,2,28,.82);
  backdrop-filter: blur(6px);
}
.end-screen.hidden { display: none; }
.end-card {
  width: min(100%, 500px);
  border-radius: 18px;
  border: 2px solid rgba(255,88,220,.85);
  background: linear-gradient(158deg, rgba(34,9,96,.97), rgba(7,3,46,.97));
  box-shadow: 0 0 28px rgba(255,68,198,.72), inset 0 0 20px rgba(36,186,255,.2);
  padding: 24px 20px;
  text-align: center;
}
.end-title {
  font-family: 'Anton', sans-serif;
  font-size: clamp(44px, 13vw, 80px);
  text-transform: uppercase;
  letter-spacing: 1px;
  background: linear-gradient(180deg,#ffe555 0%,#ff9500 50%,#ff4e50 100%);
  -webkit-background-clip: text; background-clip: text; color: transparent;
}
.end-score {
  margin: 8px 0 22px;
  font-family: 'Anton', sans-serif;
  font-size: clamp(42px, 12vw, 72px);
  line-height: 1;
  color: #76d6ff;
  text-shadow: 0 0 14px rgba(76,208,255,.9);
}
.actions { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
.btn {
  min-height: 44px;
  min-width: 128px;
  padding: 7px 18px;
  border-radius: 10px;
  border: 2px solid rgba(255,255,255,.4);
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 26px;
  font-weight: 700;
  color: #fff;
  cursor: pointer;
}
.btn:active { transform: translateY(1px); }
.btn-primary   { background: linear-gradient(180deg,#00b3ff,#0968c2); box-shadow: 0 0 12px rgba(26,172,255,.7); }
.btn-secondary { background: linear-gradient(180deg,#ff6292,#b82454); box-shadow: 0 0 12px rgba(255,88,140,.65); }

@media (min-width: 640px) {
  .hud { padding-left: 18px; padding-right: 18px; }
}
